(function(se,ue){typeof exports=="object"&&typeof module<"u"?ue(exports):typeof define=="function"&&define.amd?define(["exports"],ue):(se=typeof globalThis<"u"?globalThis:se||self,ue(se.BottomSheet={}))})(this,function(se){"use strict";var ue={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},Ne={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},Qt=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],xe={CSS:{},springs:{}};function G(t,e,n){return Math.min(Math.max(t,e),n)}function me(t,e){return t.indexOf(e)>-1}function $e(t,e){return t.apply(null,e)}var h={arr:function(t){return Array.isArray(t)},obj:function(t){return me(Object.prototype.toString.call(t),"Object")},pth:function(t){return h.obj(t)&&t.hasOwnProperty("totalLength")},svg:function(t){return t instanceof SVGElement},inp:function(t){return t instanceof HTMLInputElement},dom:function(t){return t.nodeType||h.svg(t)},str:function(t){return typeof t=="string"},fnc:function(t){return typeof t=="function"},und:function(t){return typeof t>"u"},nil:function(t){return h.und(t)||t===null},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return h.hex(t)||h.rgb(t)||h.hsl(t)},key:function(t){return!ue.hasOwnProperty(t)&&!Ne.hasOwnProperty(t)&&t!=="targets"&&t!=="keyframes"}};function nt(t){var e=/\(([^)]+)\)/.exec(t);return e?e[1].split(",").map(function(n){return parseFloat(n)}):[]}function rt(t,e){var n=nt(t),r=G(h.und(n[0])?1:n[0],.1,100),i=G(h.und(n[1])?100:n[1],.1,100),s=G(h.und(n[2])?10:n[2],.1,100),a=G(h.und(n[3])?0:n[3],.1,100),u=Math.sqrt(i/r),o=s/(2*Math.sqrt(i*r)),d=o<1?u*Math.sqrt(1-o*o):0,c=1,f=o<1?(o*u+-a)/d:-a+u;function p(w){var v=e?e*w/1e3:w;return o<1?v=Math.exp(-v*o*u)*(c*Math.cos(d*v)+f*Math.sin(d*v)):v=(c+f*v)*Math.exp(-v*u),w===0||w===1?w:1-v}function L(){var w=xe.springs[t];if(w)return w;for(var v=1/6,I=0,x=0;;)if(I+=v,p(I)===1){if(x++,x>=16)break}else x=0;var y=I*v*1e3;return xe.springs[t]=y,y}return e?p:L}function Xt(t){return t===void 0&&(t=10),function(e){return Math.ceil(G(e,1e-6,1)*t)*(1/t)}}var Jt=function(){var t=11,e=1/(t-1);function n(c,f){return 1-3*f+3*c}function r(c,f){return 3*f-6*c}function i(c){return 3*c}function s(c,f,p){return((n(f,p)*c+r(f,p))*c+i(f))*c}function a(c,f,p){return 3*n(f,p)*c*c+2*r(f,p)*c+i(f)}function u(c,f,p,L,w){var v,I,x=0;do I=f+(p-f)/2,v=s(I,L,w)-c,v>0?p=I:f=I;while(Math.abs(v)>1e-7&&++x<10);return I}function o(c,f,p,L){for(var w=0;w<4;++w){var v=a(f,p,L);if(v===0)return f;var I=s(f,p,L)-c;f-=I/v}return f}function d(c,f,p,L){if(!(0<=c&&c<=1&&0<=p&&p<=1))return;var w=new Float32Array(t);if(c!==f||p!==L)for(var v=0;v<t;++v)w[v]=s(v*e,c,p);function I(x){for(var y=0,m=1,V=t-1;m!==V&&w[m]<=x;++m)y+=e;--m;var z=(x-w[m])/(w[m+1]-w[m]),O=y+z*e,C=a(O,c,p);return C>=.001?o(x,O,c,p):C===0?O:u(x,y,y+e,c,p)}return function(x){return c===f&&p===L||x===0||x===1?x:s(I(x),f,L)}}return d}(),it=function(){var t={linear:function(){return function(r){return r}}},e={Sine:function(){return function(r){return 1-Math.cos(r*Math.PI/2)}},Circ:function(){return function(r){return 1-Math.sqrt(1-r*r)}},Back:function(){return function(r){return r*r*(3*r-2)}},Bounce:function(){return function(r){for(var i,s=4;r<((i=Math.pow(2,--s))-1)/11;);return 1/Math.pow(4,3-s)-7.5625*Math.pow((i*3-2)/22-r,2)}},Elastic:function(r,i){r===void 0&&(r=1),i===void 0&&(i=.5);var s=G(r,1,10),a=G(i,.1,2);return function(u){return u===0||u===1?u:-s*Math.pow(2,10*(u-1))*Math.sin((u-1-a/(Math.PI*2)*Math.asin(1/s))*(Math.PI*2)/a)}}},n=["Quad","Cubic","Quart","Quint","Expo"];return n.forEach(function(r,i){e[r]=function(){return function(s){return Math.pow(s,i+2)}}}),Object.keys(e).forEach(function(r){var i=e[r];t["easeIn"+r]=i,t["easeOut"+r]=function(s,a){return function(u){return 1-i(s,a)(1-u)}},t["easeInOut"+r]=function(s,a){return function(u){return u<.5?i(s,a)(u*2)/2:1-i(s,a)(u*-2+2)/2}},t["easeOutIn"+r]=function(s,a){return function(u){return u<.5?(1-i(s,a)(1-u*2))/2:(i(s,a)(u*2-1)+1)/2}}}),t}();function He(t,e){if(h.fnc(t))return t;var n=t.split("(")[0],r=it[n],i=nt(t);switch(n){case"spring":return rt(t,e);case"cubicBezier":return $e(Jt,i);case"steps":return $e(Xt,i);default:return $e(r,i)}}function st(t){try{var e=document.querySelectorAll(t);return e}catch{return}}function Ie(t,e){for(var n=t.length,r=arguments.length>=2?arguments[1]:void 0,i=[],s=0;s<n;s++)if(s in t){var a=t[s];e.call(r,a,s,t)&&i.push(a)}return i}function Oe(t){return t.reduce(function(e,n){return e.concat(h.arr(n)?Oe(n):n)},[])}function ot(t){return h.arr(t)?t:(h.str(t)&&(t=st(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])}function je(t,e){return t.some(function(n){return n===e})}function Re(t){var e={};for(var n in t)e[n]=t[n];return e}function Ue(t,e){var n=Re(t);for(var r in t)n[r]=e.hasOwnProperty(r)?e[r]:t[r];return n}function Ce(t,e){var n=Re(t);for(var r in e)n[r]=h.und(t[r])?e[r]:t[r];return n}function Bt(t){var e=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(t);return e?"rgba("+e[1]+",1)":t}function en(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,n=t.replace(e,function(u,o,d,c){return o+o+d+d+c+c}),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n),i=parseInt(r[1],16),s=parseInt(r[2],16),a=parseInt(r[3],16);return"rgba("+i+","+s+","+a+",1)"}function tn(t){var e=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t),n=parseInt(e[1],10)/360,r=parseInt(e[2],10)/100,i=parseInt(e[3],10)/100,s=e[4]||1;function a(p,L,w){return w<0&&(w+=1),w>1&&(w-=1),w<1/6?p+(L-p)*6*w:w<1/2?L:w<2/3?p+(L-p)*(2/3-w)*6:p}var u,o,d;if(r==0)u=o=d=i;else{var c=i<.5?i*(1+r):i+r-i*r,f=2*i-c;u=a(f,c,n+1/3),o=a(f,c,n),d=a(f,c,n-1/3)}return"rgba("+u*255+","+o*255+","+d*255+","+s+")"}function nn(t){if(h.rgb(t))return Bt(t);if(h.hex(t))return en(t);if(h.hsl(t))return tn(t)}function J(t){var e=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t);if(e)return e[1]}function rn(t){if(me(t,"translate")||t==="perspective")return"px";if(me(t,"rotate")||me(t,"skew"))return"deg"}function Ke(t,e){return h.fnc(t)?t(e.target,e.id,e.total):t}function Z(t,e){return t.getAttribute(e)}function Fe(t,e,n){var r=J(e);if(je([n,"deg","rad","turn"],r))return e;var i=xe.CSS[e+n];if(!h.und(i))return i;var s=100,a=document.createElement(t.tagName),u=t.parentNode&&t.parentNode!==document?t.parentNode:document.body;u.appendChild(a),a.style.position="absolute",a.style.width=s+n;var o=s/a.offsetWidth;u.removeChild(a);var d=o*parseFloat(e);return xe.CSS[e+n]=d,d}function at(t,e,n){if(e in t.style){var r=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=t.style[e]||getComputedStyle(t).getPropertyValue(r)||"0";return n?Fe(t,i,n):i}}function Ye(t,e){if(h.dom(t)&&!h.inp(t)&&(!h.nil(Z(t,e))||h.svg(t)&&t[e]))return"attribute";if(h.dom(t)&&je(Qt,e))return"transform";if(h.dom(t)&&e!=="transform"&&at(t,e))return"css";if(t[e]!=null)return"object"}function ct(t){if(!!h.dom(t)){for(var e=t.style.transform||"",n=/(\w+)\(([^)]*)\)/g,r=new Map,i;i=n.exec(e);)r.set(i[1],i[2]);return r}}function sn(t,e,n,r){var i=me(e,"scale")?1:0+rn(e),s=ct(t).get(e)||i;return n&&(n.transforms.list.set(e,s),n.transforms.last=e),r?Fe(t,s,r):s}function qe(t,e,n,r){switch(Ye(t,e)){case"transform":return sn(t,e,r,n);case"css":return at(t,e,n);case"attribute":return Z(t,e);default:return t[e]||0}}function ze(t,e){var n=/^(\*=|\+=|-=)/.exec(t);if(!n)return t;var r=J(t)||0,i=parseFloat(e),s=parseFloat(t.replace(n[0],""));switch(n[0][0]){case"+":return i+s+r;case"-":return i-s+r;case"*":return i*s+r}}function ut(t,e){if(h.col(t))return nn(t);if(/\s/g.test(t))return t;var n=J(t),r=n?t.substr(0,t.length-n.length):t;return e?r+e:r}function We(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function on(t){return Math.PI*2*Z(t,"r")}function an(t){return Z(t,"width")*2+Z(t,"height")*2}function cn(t){return We({x:Z(t,"x1"),y:Z(t,"y1")},{x:Z(t,"x2"),y:Z(t,"y2")})}function lt(t){for(var e=t.points,n=0,r,i=0;i<e.numberOfItems;i++){var s=e.getItem(i);i>0&&(n+=We(r,s)),r=s}return n}function un(t){var e=t.points;return lt(t)+We(e.getItem(e.numberOfItems-1),e.getItem(0))}function ft(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return on(t);case"rect":return an(t);case"line":return cn(t);case"polyline":return lt(t);case"polygon":return un(t)}}function ln(t){var e=ft(t);return t.setAttribute("stroke-dasharray",e),e}function fn(t){for(var e=t.parentNode;h.svg(e)&&h.svg(e.parentNode);)e=e.parentNode;return e}function dt(t,e){var n=e||{},r=n.el||fn(t),i=r.getBoundingClientRect(),s=Z(r,"viewBox"),a=i.width,u=i.height,o=n.viewBox||(s?s.split(" "):[0,0,a,u]);return{el:r,viewBox:o,x:o[0]/1,y:o[1]/1,w:a,h:u,vW:o[2],vH:o[3]}}function dn(t,e){var n=h.str(t)?st(t)[0]:t,r=e||100;return function(i){return{property:i,el:n,svg:dt(n),totalLength:ft(n)*(r/100)}}}function hn(t,e,n){function r(c){c===void 0&&(c=0);var f=e+c>=1?e+c:0;return t.el.getPointAtLength(f)}var i=dt(t.el,t.svg),s=r(),a=r(-1),u=r(1),o=n?1:i.w/i.vW,d=n?1:i.h/i.vH;switch(t.property){case"x":return(s.x-i.x)*o;case"y":return(s.y-i.y)*d;case"angle":return Math.atan2(u.y-a.y,u.x-a.x)*180/Math.PI}}function ht(t,e){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,r=ut(h.pth(t)?t.totalLength:t,e)+"";return{original:r,numbers:r.match(n)?r.match(n).map(Number):[0],strings:h.str(t)||e?r.split(n):[]}}function Ge(t){var e=t?Oe(h.arr(t)?t.map(ot):ot(t)):[];return Ie(e,function(n,r,i){return i.indexOf(n)===r})}function pt(t){var e=Ge(t);return e.map(function(n,r){return{target:n,id:r,total:e.length,transforms:{list:ct(n)}}})}function pn(t,e){var n=Re(e);if(/^spring/.test(n.easing)&&(n.duration=rt(n.easing)),h.arr(t)){var r=t.length,i=r===2&&!h.obj(t[0]);i?t={value:t}:h.fnc(e.duration)||(n.duration=e.duration/r)}var s=h.arr(t)?t:[t];return s.map(function(a,u){var o=h.obj(a)&&!h.pth(a)?a:{value:a};return h.und(o.delay)&&(o.delay=u?0:e.delay),h.und(o.endDelay)&&(o.endDelay=u===s.length-1?e.endDelay:0),o}).map(function(a){return Ce(a,n)})}function gn(t){for(var e=Ie(Oe(t.map(function(s){return Object.keys(s)})),function(s){return h.key(s)}).reduce(function(s,a){return s.indexOf(a)<0&&s.push(a),s},[]),n={},r=function(s){var a=e[s];n[a]=t.map(function(u){var o={};for(var d in u)h.key(d)?d==a&&(o.value=u[d]):o[d]=u[d];return o})},i=0;i<e.length;i++)r(i);return n}function vn(t,e){var n=[],r=e.keyframes;r&&(e=Ce(gn(r),e));for(var i in e)h.key(i)&&n.push({name:i,tweens:pn(e[i],t)});return n}function mn(t,e){var n={};for(var r in t){var i=Ke(t[r],e);h.arr(i)&&(i=i.map(function(s){return Ke(s,e)}),i.length===1&&(i=i[0])),n[r]=i}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}function yn(t,e){var n;return t.tweens.map(function(r){var i=mn(r,e),s=i.value,a=h.arr(s)?s[1]:s,u=J(a),o=qe(e.target,t.name,u,e),d=n?n.to.original:o,c=h.arr(s)?s[0]:d,f=J(c)||J(o),p=u||f;return h.und(a)&&(a=d),i.from=ht(c,p),i.to=ht(ze(a,c),p),i.start=n?n.end:0,i.end=i.start+i.delay+i.duration+i.endDelay,i.easing=He(i.easing,i.duration),i.isPath=h.pth(s),i.isPathTargetInsideSVG=i.isPath&&h.svg(e.target),i.isColor=h.col(i.from.original),i.isColor&&(i.round=1),n=i,i})}var gt={css:function(t,e,n){return t.style[e]=n},attribute:function(t,e,n){return t.setAttribute(e,n)},object:function(t,e,n){return t[e]=n},transform:function(t,e,n,r,i){if(r.list.set(e,n),e===r.last||i){var s="";r.list.forEach(function(a,u){s+=u+"("+a+") "}),t.style.transform=s}}};function vt(t,e){var n=pt(t);n.forEach(function(r){for(var i in e){var s=Ke(e[i],r),a=r.target,u=J(s),o=qe(a,i,u,r),d=u||J(o),c=ze(ut(s,d),o),f=Ye(a,i);gt[f](a,i,c,r.transforms,!0)}})}function _n(t,e){var n=Ye(t.target,e.name);if(n){var r=yn(e,t),i=r[r.length-1];return{type:n,property:e.name,animatable:t,tweens:r,duration:i.end,delay:r[0].delay,endDelay:i.endDelay}}}function wn(t,e){return Ie(Oe(t.map(function(n){return e.map(function(r){return _n(n,r)})})),function(n){return!h.und(n)})}function mt(t,e){var n=t.length,r=function(s){return s.timelineOffset?s.timelineOffset:0},i={};return i.duration=n?Math.max.apply(Math,t.map(function(s){return r(s)+s.duration})):e.duration,i.delay=n?Math.min.apply(Math,t.map(function(s){return r(s)+s.delay})):e.delay,i.endDelay=n?i.duration-Math.max.apply(Math,t.map(function(s){return r(s)+s.duration-s.endDelay})):e.endDelay,i}var yt=0;function bn(t){var e=Ue(ue,t),n=Ue(Ne,t),r=vn(n,t),i=pt(t.targets),s=wn(i,r),a=mt(s,n),u=yt;return yt++,Ce(e,{id:u,children:[],animatables:i,animations:s,duration:a.duration,delay:a.delay,endDelay:a.endDelay})}var W=[],_t=function(){var t;function e(){!t&&(!wt()||!T.suspendWhenDocumentHidden)&&W.length>0&&(t=requestAnimationFrame(n))}function n(i){for(var s=W.length,a=0;a<s;){var u=W[a];u.paused?(W.splice(a,1),s--):(u.tick(i),a++)}t=a>0?requestAnimationFrame(n):void 0}function r(){!T.suspendWhenDocumentHidden||(wt()?t=cancelAnimationFrame(t):(W.forEach(function(i){return i._onDocumentVisibility()}),_t()))}return typeof document<"u"&&document.addEventListener("visibilitychange",r),e}();function wt(){return!!document&&document.hidden}function T(t){t===void 0&&(t={});var e=0,n=0,r=0,i,s=0,a=null;function u(y){var m=window.Promise&&new Promise(function(V){return a=V});return y.finished=m,m}var o=bn(t);u(o);function d(){var y=o.direction;y!=="alternate"&&(o.direction=y!=="normal"?"normal":"reverse"),o.reversed=!o.reversed,i.forEach(function(m){return m.reversed=o.reversed})}function c(y){return o.reversed?o.duration-y:y}function f(){e=0,n=c(o.currentTime)*(1/T.speed)}function p(y,m){m&&m.seek(y-m.timelineOffset)}function L(y){if(o.reversePlayback)for(var V=s;V--;)p(y,i[V]);else for(var m=0;m<s;m++)p(y,i[m])}function w(y){for(var m=0,V=o.animations,z=V.length;m<z;){var O=V[m],C=O.animatable,Q=O.tweens,g=Q.length-1,E=Q[g];g&&(E=Ie(Q,function(Te){return y<Te.end})[0]||E);for(var B=G(y-E.start-E.delay,0,E.duration)/E.duration,ce=isNaN(B)?1:E.easing(B),K=E.to.strings,we=E.round,be=[],Pe=E.to.numbers.length,Y=void 0,ne=0;ne<Pe;ne++){var ee=void 0,Se=E.to.numbers[ne],pe=E.from.numbers[ne]||0;E.isPath?ee=hn(E.value,ce*Se,E.isPathTargetInsideSVG):ee=pe+ce*(Se-pe),we&&(E.isColor&&ne>2||(ee=Math.round(ee*we)/we)),be.push(ee)}var re=K.length;if(!re)Y=be[0];else{Y=K[0];for(var ie=0;ie<re;ie++){K[ie];var Ee=K[ie+1],ge=be[ie];isNaN(ge)||(Ee?Y+=ge+Ee:Y+=ge+" ")}}gt[O.type](C.target,O.property,Y,C.transforms),O.currentValue=Y,m++}}function v(y){o[y]&&!o.passThrough&&o[y](o)}function I(){o.remaining&&o.remaining!==!0&&o.remaining--}function x(y){var m=o.duration,V=o.delay,z=m-o.endDelay,O=c(y);o.progress=G(O/m*100,0,100),o.reversePlayback=O<o.currentTime,i&&L(O),!o.began&&o.currentTime>0&&(o.began=!0,v("begin")),!o.loopBegan&&o.currentTime>0&&(o.loopBegan=!0,v("loopBegin")),O<=V&&o.currentTime!==0&&w(0),(O>=z&&o.currentTime!==m||!m)&&w(m),O>V&&O<z?(o.changeBegan||(o.changeBegan=!0,o.changeCompleted=!1,v("changeBegin")),v("change"),w(O)):o.changeBegan&&(o.changeCompleted=!0,o.changeBegan=!1,v("changeComplete")),o.currentTime=G(O,0,m),o.began&&v("update"),y>=m&&(n=0,I(),o.remaining?(e=r,v("loopComplete"),o.loopBegan=!1,o.direction==="alternate"&&d()):(o.paused=!0,o.completed||(o.completed=!0,v("loopComplete"),v("complete"),!o.passThrough&&"Promise"in window&&(a(),u(o)))))}return o.reset=function(){var y=o.direction;o.passThrough=!1,o.currentTime=0,o.progress=0,o.paused=!0,o.began=!1,o.loopBegan=!1,o.changeBegan=!1,o.completed=!1,o.changeCompleted=!1,o.reversePlayback=!1,o.reversed=y==="reverse",o.remaining=o.loop,i=o.children,s=i.length;for(var m=s;m--;)o.children[m].reset();(o.reversed&&o.loop!==!0||y==="alternate"&&o.loop===1)&&o.remaining++,w(o.reversed?o.duration:0)},o._onDocumentVisibility=f,o.set=function(y,m){return vt(y,m),o},o.tick=function(y){r=y,e||(e=r),x((r+(n-e))*T.speed)},o.seek=function(y){x(c(y))},o.pause=function(){o.paused=!0,f()},o.play=function(){!o.paused||(o.completed&&o.reset(),o.paused=!1,W.push(o),f(),_t())},o.reverse=function(){d(),o.completed=!o.reversed,f()},o.restart=function(){o.reset(),o.play()},o.remove=function(y){var m=Ge(y);Et(m,o)},o.reset(),o.autoplay&&o.play(),o}function bt(t,e){for(var n=e.length;n--;)je(t,e[n].animatable.target)&&e.splice(n,1)}function Et(t,e){var n=e.animations,r=e.children;bt(t,n);for(var i=r.length;i--;){var s=r[i],a=s.animations;bt(t,a),!a.length&&!s.children.length&&r.splice(i,1)}!n.length&&!r.length&&e.pause()}function En(t){for(var e=Ge(t),n=W.length;n--;){var r=W[n];Et(e,r)}}function Tn(t,e){e===void 0&&(e={});var n=e.direction||"normal",r=e.easing?He(e.easing):null,i=e.grid,s=e.axis,a=e.from||0,u=a==="first",o=a==="center",d=a==="last",c=h.arr(t),f=parseFloat(c?t[0]:t),p=c?parseFloat(t[1]):0,L=J(c?t[1]:t)||0,w=e.start||0+(c?f:0),v=[],I=0;return function(x,y,m){if(u&&(a=0),o&&(a=(m-1)/2),d&&(a=m-1),!v.length){for(var V=0;V<m;V++){if(!i)v.push(Math.abs(a-V));else{var z=o?(i[0]-1)/2:a%i[0],O=o?(i[1]-1)/2:Math.floor(a/i[0]),C=V%i[0],Q=Math.floor(V/i[0]),g=z-C,E=O-Q,B=Math.sqrt(g*g+E*E);s==="x"&&(B=-g),s==="y"&&(B=-E),v.push(B)}I=Math.max.apply(Math,v)}r&&(v=v.map(function(K){return r(K/I)*I})),n==="reverse"&&(v=v.map(function(K){return s?K<0?K*-1:-K:Math.abs(I-K)}))}var ce=c?(p-f)/I:f;return w+ce*(Math.round(v[y]*100)/100)+L}}function xn(t){t===void 0&&(t={});var e=T(t);return e.duration=0,e.add=function(n,r){var i=W.indexOf(e),s=e.children;i>-1&&W.splice(i,1);function a(p){p.passThrough=!0}for(var u=0;u<s.length;u++)a(s[u]);var o=Ce(n,Ue(Ne,t));o.targets=o.targets||t.targets;var d=e.duration;o.autoplay=!1,o.direction=e.direction,o.timelineOffset=h.und(r)?d:ze(r,d),a(e),e.seek(o.timelineOffset);var c=T(o);a(c),s.push(c);var f=mt(s,t);return e.delay=f.delay,e.endDelay=f.endDelay,e.duration=f.duration,e.seek(0),e.reset(),e.autoplay&&e.play(),e},e}T.version="3.2.1",T.speed=1,T.suspendWhenDocumentHidden=!0,T.running=W,T.remove=En,T.get=qe,T.set=vt,T.convertPx=Fe,T.path=dn,T.setDashoffset=ln,T.stagger=Tn,T.timeline=xn,T.easing=He,T.penner=it,T.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t};function In(t,e,n){return Math.max(e,Math.min(t,n))}const k={toVector(t,e){return t===void 0&&(t=e),Array.isArray(t)?t:[t,t]},add(t,e){return[t[0]+e[0],t[1]+e[1]]},sub(t,e){return[t[0]-e[0],t[1]-e[1]]},addTo(t,e){t[0]+=e[0],t[1]+=e[1]},subTo(t,e){t[0]-=e[0],t[1]-=e[1]}};function Tt(t,e,n){return e===0||Math.abs(e)===1/0?Math.pow(t,n*5):t*e*n/(e+n*t)}function xt(t,e,n,r=.15){return r===0?In(t,e,n):t<e?-Tt(e-t,n-e,r)+e:t>n?+Tt(t-n,n-e,r)+n:t}function On(t,[e,n],[r,i]){const[[s,a],[u,o]]=t;return[xt(e,s,a,r),xt(n,u,o,i)]}function H(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function It(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function S(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?It(Object(n),!0).forEach(function(r){H(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):It(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const Ot={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function Ct(t){return t?t[0].toUpperCase()+t.slice(1):""}const Cn=["enter","leave"];function Mn(t=!1,e){return t&&!Cn.includes(e)}function An(t,e="",n=!1){const r=Ot[t],i=r&&r[e]||e;return"on"+Ct(t)+Ct(i)+(Mn(n,i)?"Capture":"")}const Dn=["gotpointercapture","lostpointercapture"];function kn(t){let e=t.substring(2).toLowerCase();const n=!!~e.indexOf("passive");n&&(e=e.replace("passive",""));const r=Dn.includes(e)?"capturecapture":"capture",i=!!~e.indexOf(r);return i&&(e=e.replace("capture","")),{device:e,capture:i,passive:n}}function Ln(t,e=""){const n=Ot[t],r=n&&n[e]||e;return t+r}function Me(t){return"touches"in t}function Mt(t){return Me(t)?"touch":"pointerType"in t?t.pointerType:"mouse"}function Pn(t){return Array.from(t.touches).filter(e=>{var n,r;return e.target===t.currentTarget||((n=t.currentTarget)===null||n===void 0||(r=n.contains)===null||r===void 0?void 0:r.call(n,e.target))})}function Sn(t){return t.type==="touchend"||t.type==="touchcancel"?t.changedTouches:t.targetTouches}function At(t){return Me(t)?Sn(t)[0]:t}function Ze(t,e){const n=e.clientX-t.clientX,r=e.clientY-t.clientY,i=(e.clientX+t.clientX)/2,s=(e.clientY+t.clientY)/2,a=Math.hypot(n,r);return{angle:-(Math.atan2(n,r)*180)/Math.PI,distance:a,origin:[i,s]}}function Vn(t){return Pn(t).map(e=>e.identifier)}function Dt(t,e){const[n,r]=Array.from(t.touches).filter(i=>e.includes(i.identifier));return Ze(n,r)}function Qe(t){const e=At(t);return Me(t)?e.identifier:e.pointerId}function le(t){const e=At(t);return[e.clientX,e.clientY]}const kt=40,Lt=800;function Pt(t){let{deltaX:e,deltaY:n,deltaMode:r}=t;return r===1?(e*=kt,n*=kt):r===2&&(e*=Lt,n*=Lt),[e,n]}function Nn(t){var e,n;const{scrollX:r,scrollY:i,scrollLeft:s,scrollTop:a}=t.currentTarget;return[(e=r!=null?r:s)!==null&&e!==void 0?e:0,(n=i!=null?i:a)!==null&&n!==void 0?n:0]}function $n(t){const e={};if("buttons"in t&&(e.buttons=t.buttons),"shiftKey"in t){const{shiftKey:n,altKey:r,metaKey:i,ctrlKey:s}=t;Object.assign(e,{shiftKey:n,altKey:r,metaKey:i,ctrlKey:s})}return e}function Ae(t,...e){return typeof t=="function"?t(...e):t}function Hn(){}function jn(...t){return t.length===0?Hn:t.length===1?t[0]:function(){let e;for(const n of t)e=n.apply(this,arguments)||e;return e}}function St(t,e){return Object.assign({},e,t||{})}const Rn=32;class Vt{constructor(e,n,r){this.ctrl=e,this.args=n,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:n,ingKey:r,args:i}=this;n[r]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const n=this.state,r=this.config;n._active||(this.reset(),this.computeInitial(),n._active=!0,n.target=e.target,n.currentTarget=e.currentTarget,n.lastOffset=r.from?Ae(r.from,n):n.offset,n.offset=n.lastOffset),n.startTime=n.timeStamp=e.timeStamp}computeValues(e){const n=this.state;n._values=e,n.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:n,config:r,shared:i}=this;n.args=this.args;let s=0;if(e&&(n.event=e,r.preventDefault&&e.cancelable&&n.event.preventDefault(),n.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,$n(e)),i.down=i.pressed=i.buttons%2===1||i.touches>0,s=e.timeStamp-n.timeStamp,n.timeStamp=e.timeStamp,n.elapsedTime=n.timeStamp-n.startTime),n._active){const O=n._delta.map(Math.abs);k.addTo(n._distance,O)}this.axisIntent&&this.axisIntent(e);const[a,u]=n._movement,[o,d]=r.threshold,{_step:c,values:f}=n;if(r.hasCustomTransform?(c[0]===!1&&(c[0]=Math.abs(a)>=o&&f[0]),c[1]===!1&&(c[1]=Math.abs(u)>=d&&f[1])):(c[0]===!1&&(c[0]=Math.abs(a)>=o&&Math.sign(a)*o),c[1]===!1&&(c[1]=Math.abs(u)>=d&&Math.sign(u)*d)),n.intentional=c[0]!==!1||c[1]!==!1,!n.intentional)return;const p=[0,0];if(r.hasCustomTransform){const[O,C]=f;p[0]=c[0]!==!1?O-c[0]:0,p[1]=c[1]!==!1?C-c[1]:0}else p[0]=c[0]!==!1?a-c[0]:0,p[1]=c[1]!==!1?u-c[1]:0;this.restrictToAxis&&!n._blocked&&this.restrictToAxis(p);const L=n.offset,w=n._active&&!n._blocked||n.active;w&&(n.first=n._active&&!n.active,n.last=!n._active&&n.active,n.active=i[this.ingKey]=n._active,e&&(n.first&&("bounds"in r&&(n._bounds=Ae(r.bounds,n)),this.setup&&this.setup()),n.movement=p,this.computeOffset()));const[v,I]=n.offset,[[x,y],[m,V]]=n._bounds;n.overflow=[v<x?-1:v>y?1:0,I<m?-1:I>V?1:0],n._movementBound[0]=n.overflow[0]?n._movementBound[0]===!1?n._movement[0]:n._movementBound[0]:!1,n._movementBound[1]=n.overflow[1]?n._movementBound[1]===!1?n._movement[1]:n._movementBound[1]:!1;const z=n._active?r.rubberband||[0,0]:[0,0];if(n.offset=On(n._bounds,n.offset,z),n.delta=k.sub(n.offset,L),this.computeMovement(),w&&(!n.last||s>Rn)){n.delta=k.sub(n.offset,L);const O=n.delta.map(Math.abs);k.addTo(n.distance,O),n.direction=n.delta.map(Math.sign),n._direction=n._delta.map(Math.sign),!n.first&&s>0&&(n.velocity=[O[0]/s,O[1]/s])}}emit(){const e=this.state,n=this.shared,r=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!r.triggerAllEvents)return;const i=this.handler(S(S(S({},n),e),{},{[this.aliasKey]:e.values}));i!==void 0&&(e.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function Un([t,e],n){const r=Math.abs(t),i=Math.abs(e);if(r>i&&r>n)return"x";if(i>r&&i>n)return"y"}class ye extends Vt{constructor(...e){super(...e),H(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=k.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=k.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const n=this.state,r=this.config;if(!n.axis&&e){const i=typeof r.axisThreshold=="object"?r.axisThreshold[Mt(e)]:r.axisThreshold;n.axis=Un(n._movement,i)}n._blocked=(r.lockDirection||!!r.axis)&&!n.axis||!!r.axis&&r.axis!==n.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const Nt=t=>t,$t=.15,Xe={enabled(t=!0){return t},eventOptions(t,e,n){return S(S({},n.shared.eventOptions),t)},preventDefault(t=!1){return t},triggerAllEvents(t=!1){return t},rubberband(t=0){switch(t){case!0:return[$t,$t];case!1:return[0,0];default:return k.toVector(t)}},from(t){if(typeof t=="function")return t;if(t!=null)return k.toVector(t)},transform(t,e,n){const r=t||n.shared.transform;if(this.hasCustomTransform=!!r,process.env.NODE_ENV==="development"){const i=r||Nt;return s=>{const a=i(s);return(!isFinite(a[0])||!isFinite(a[1]))&&console.warn(`[@use-gesture]: config.transform() must produce a valid result, but it was: [${a[0]},${[1]}]`),a}}return r||Nt},threshold(t){return k.toVector(t,0)}};process.env.NODE_ENV==="development"&&Object.assign(Xe,{domTarget(t){if(t!==void 0)throw Error("[@use-gesture]: `domTarget` option has been renamed to `target`.");return NaN},lockDirection(t){if(t!==void 0)throw Error("[@use-gesture]: `lockDirection` option has been merged with `axis`. Use it as in `{ axis: 'lock' }`");return NaN},initial(t){if(t!==void 0)throw Error("[@use-gesture]: `initial` option has been renamed to `from`.");return NaN}});const Kn=0,oe=S(S({},Xe),{},{axis(t,e,{axis:n}){if(this.lockDirection=n==="lock",!this.lockDirection)return n},axisThreshold(t=Kn){return t},bounds(t={}){if(typeof t=="function")return s=>oe.bounds(t(s));if("current"in t)return()=>t.current;if(typeof HTMLElement=="function"&&t instanceof HTMLElement)return t;const{left:e=-1/0,right:n=1/0,top:r=-1/0,bottom:i=1/0}=t;return[[e,n],[r,i]]}}),De=10,Ht={ArrowRight:(t=1)=>[De*t,0],ArrowLeft:(t=1)=>[-De*t,0],ArrowUp:(t=1)=>[0,-De*t],ArrowDown:(t=1)=>[0,De*t]};class Fn extends ye{constructor(...e){super(...e),H(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const n=e._bounds.getBoundingClientRect(),r=e.currentTarget.getBoundingClientRect(),i={left:n.left-r.left+e.offset[0],right:n.right-r.right+e.offset[0],top:n.top-r.top+e.offset[1],bottom:n.bottom-r.bottom+e.offset[1]};e._bounds=oe.bounds(i)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const n=this.config,r=this.state;if(e.buttons!=null&&(Array.isArray(n.pointerButtons)?!n.pointerButtons.includes(e.buttons):n.pointerButtons!==-1&&n.pointerButtons!==e.buttons))return;const i=this.ctrl.setEventIds(e);n.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(i&&i.size>1&&r._pointerActive)&&(this.start(e),this.setupPointer(e),r._pointerId=Qe(e),r._pointerActive=!0,this.computeValues(le(e)),this.computeInitial(),n.preventScrollAxis&&Mt(e)!=="mouse"?(r._active=!1,this.setupScrollPrevention(e)):n.delay>0?(this.setupDelayTrigger(e),n.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const n=this.state;n._active=!0,n._preventScroll=!0,n._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const n=this.state,r=this.config;if(!n._pointerActive||n.type===e.type&&e.timeStamp===n.timeStamp)return;const i=Qe(e);if(n._pointerId!==void 0&&i!==n._pointerId)return;const s=le(e);if(document.pointerLockElement===e.target?n._delta=[e.movementX,e.movementY]:(n._delta=k.sub(s,n._values),this.computeValues(s)),k.addTo(n._movement,n._delta),this.compute(e),n._delayed&&n.intentional){this.timeoutStore.remove("dragDelay"),n.active=!1,this.startPointerDrag(e);return}if(r.preventScrollAxis&&!n._preventScroll)if(n.axis)if(n.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){n._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{process.env.NODE_ENV==="development"&&console.warn("[@use-gesture]: If you see this message, it's likely that you're using an outdated version of `@react-three/fiber`. \n\nPlease upgrade to the latest version.")}const n=this.state,r=this.config;if(!n._active||!n._pointerActive)return;const i=Qe(e);if(n._pointerId!==void 0&&i!==n._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[s,a]=n._distance;if(n.tap=s<=r.tapsThreshold&&a<=r.tapsThreshold,n.tap&&r.filterTaps)n._force=!0;else{const[u,o]=n.direction,[d,c]=n.velocity,[f,p]=n.movement,[L,w]=r.swipe.velocity,[v,I]=r.swipe.distance,x=r.swipe.duration;n.elapsedTime<x&&(Math.abs(d)>L&&Math.abs(f)>v&&(n.swipe[0]=u),Math.abs(c)>w&&Math.abs(p)>I&&(n.swipe[1]=o))}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const n=this.config,r=n.device;if(process.env.NODE_ENV==="development")try{if(r==="pointer"&&n.preventScrollDelay===void 0){const i="uv"in e?e.sourceEvent.currentTarget:e.currentTarget;window.getComputedStyle(i).touchAction==="auto"&&console.warn("[@use-gesture]: The drag target has its `touch-action` style property set to `auto`. It is recommended to add `touch-action: 'none'` so that the drag gesture behaves correctly on touch-enabled devices. For more information read this: https://use-gesture.netlify.app/docs/extras/#touch-action.\n\nThis message will only show in development mode. It won't appear in production. If this is intended, you can ignore it.",i)}}catch{}n.pointerLock&&e.currentTarget.requestPointerLock(),n.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,Yn(e);const n=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",n),this.eventStore.add(this.sharedConfig.window,"touch","cancel",n),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const n=Ht[e.key];if(n){const r=this.state,i=e.shiftKey?10:e.altKey?.1:1;this.start(e),r._delta=n(i),r._keyboardActive=!0,k.addTo(r._movement,r._delta),this.compute(e),this.emit()}}keyUp(e){e.key in Ht&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const n=this.config.device;e(n,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(n,"change",this.pointerMove.bind(this)),e(n,"end",this.pointerUp.bind(this)),e(n,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function Yn(t){"persist"in t&&typeof t.persist=="function"&&t.persist()}const _e=typeof window<"u"&&window.document&&window.document.createElement;function qn(){return _e&&"ontouchstart"in window}function jt(){return qn()||_e&&window.navigator.maxTouchPoints>1}function zn(){return _e&&"onpointerdown"in window}function Wn(){return _e&&"exitPointerLock"in window.document}function Gn(){try{return"constructor"in GestureEvent}catch{return!1}}const q={isBrowser:_e,gesture:Gn(),touch:jt(),touchscreen:jt(),pointer:zn(),pointerLock:Wn()},Zn=250,Qn=180,Xn=.5,Jn=50,Bn=250,Rt={mouse:0,touch:0,pen:8},Ut=S(S({},oe),{},{device(t,e,{pointer:{touch:n=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&q.pointerLock,q.touch&&n?"touch":this.pointerLock?"mouse":q.pointer&&!i?"pointer":q.touch?"touch":"mouse"},preventScrollAxis(t,e,{preventScroll:n}){if(this.preventScrollDelay=typeof n=="number"?n:n||n===void 0&&t?Zn:void 0,!(!q.touchscreen||n===!1))return t||(n!==void 0?"y":void 0)},pointerCapture(t,e,{pointer:{capture:n=!0,buttons:r=1}={}}){return this.pointerButtons=r,!this.pointerLock&&this.device==="pointer"&&n},keys(t=!0){return t},threshold(t,e,{filterTaps:n=!1,tapsThreshold:r=3,axis:i=void 0}){const s=k.toVector(t,n?r:i?1:0);return this.filterTaps=n,this.tapsThreshold=r,s},swipe({velocity:t=Xn,distance:e=Jn,duration:n=Bn}={}){return{velocity:this.transform(k.toVector(t)),distance:this.transform(k.toVector(e)),duration:n}},delay(t=0){switch(t){case!0:return Qn;case!1:return 0;default:return t}},axisThreshold(t){return t?S(S({},Rt),t):Rt}});process.env.NODE_ENV==="development"&&Object.assign(Ut,{useTouch(t){if(t!==void 0)throw Error("[@use-gesture]: `useTouch` option has been renamed to `pointer.touch`. Use it as in `{ pointer: { touch: true } }`.");return NaN},experimental_preventWindowScrollY(t){if(t!==void 0)throw Error("[@use-gesture]: `experimental_preventWindowScrollY` option has been renamed to `preventScroll`.");return NaN},swipeVelocity(t){if(t!==void 0)throw Error("[@use-gesture]: `swipeVelocity` option has been renamed to `swipe.velocity`. Use it as in `{ swipe: { velocity: 0.5 } }`.");return NaN},swipeDistance(t){if(t!==void 0)throw Error("[@use-gesture]: `swipeDistance` option has been renamed to `swipe.distance`. Use it as in `{ swipe: { distance: 50 } }`.");return NaN},swipeDuration(t){if(t!==void 0)throw Error("[@use-gesture]: `swipeDuration` option has been renamed to `swipe.duration`. Use it as in `{ swipe: { duration: 250 } }`.");return NaN}});function Kt(t){const[e,n]=t.overflow,[r,i]=t._delta,[s,a]=t._direction;(e<0&&r>0&&s<0||e>0&&r<0&&s>0)&&(t._movement[0]=t._movementBound[0]),(n<0&&i>0&&a<0||n>0&&i<0&&a>0)&&(t._movement[1]=t._movementBound[1])}const er=30,tr=100;class nr extends Vt{constructor(...e){super(...e),H(this,"ingKey","pinching"),H(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const e=this.state;e._touchIds=[],e.canceled=!1,e.cancel=this.cancel.bind(this),e.turns=0}computeOffset(){const{type:e,movement:n,lastOffset:r}=this.state;e==="wheel"?this.state.offset=k.add(n,r):this.state.offset=[(1+n[0])*r[0],n[1]+r[1]]}computeMovement(){const{offset:e,lastOffset:n}=this.state;this.state.movement=[e[0]/n[0],e[1]-n[1]]}axisIntent(){const e=this.state,[n,r]=e._movement;if(!e.axis){const i=Math.abs(n)*er-Math.abs(r);i<0?e.axis="angle":i>0&&(e.axis="scale")}}restrictToAxis(e){this.config.lockDirection&&(this.state.axis==="scale"?e[1]=0:this.state.axis==="angle"&&(e[0]=0))}cancel(){const e=this.state;e.canceled||setTimeout(()=>{e.canceled=!0,e._active=!1,this.compute(),this.emit()},0)}touchStart(e){this.ctrl.setEventIds(e);const n=this.state,r=this.ctrl.touchIds;if(n._active&&n._touchIds.every(s=>r.has(s))||r.size<2)return;this.start(e),n._touchIds=Array.from(r).slice(0,2);const i=Dt(e,n._touchIds);this.pinchStart(e,i)}pointerStart(e){if(e.buttons!=null&&e.buttons%2!==1)return;this.ctrl.setEventIds(e),e.target.setPointerCapture(e.pointerId);const n=this.state,r=n._pointerEvents,i=this.ctrl.pointerIds;if(n._active&&Array.from(r.keys()).every(a=>i.has(a))||(r.size<2&&r.set(e.pointerId,e),n._pointerEvents.size<2))return;this.start(e);const s=Ze(...Array.from(r.values()));this.pinchStart(e,s)}pinchStart(e,n){const r=this.state;r.origin=n.origin,this.computeValues([n.distance,n.angle]),this.computeInitial(),this.compute(e),this.emit()}touchMove(e){if(!this.state._active)return;const n=Dt(e,this.state._touchIds);this.pinchMove(e,n)}pointerMove(e){const n=this.state._pointerEvents;if(n.has(e.pointerId)&&n.set(e.pointerId,e),!this.state._active)return;const r=Ze(...Array.from(n.values()));this.pinchMove(e,r)}pinchMove(e,n){const r=this.state,i=r._values[1],s=n.angle-i;let a=0;Math.abs(s)>270&&(a+=Math.sign(s)),this.computeValues([n.distance,n.angle-360*a]),r.origin=n.origin,r.turns=a,r._movement=[r._values[0]/r._initial[0]-1,r._values[1]-r._initial[1]],this.compute(e),this.emit()}touchEnd(e){this.ctrl.setEventIds(e),!!this.state._active&&this.state._touchIds.some(n=>!this.ctrl.touchIds.has(n))&&(this.state._active=!1,this.compute(e),this.emit())}pointerEnd(e){const n=this.state;this.ctrl.setEventIds(e);try{e.target.releasePointerCapture(e.pointerId)}catch{}n._pointerEvents.has(e.pointerId)&&n._pointerEvents.delete(e.pointerId),!!n._active&&n._pointerEvents.size<2&&(n._active=!1,this.compute(e),this.emit())}gestureStart(e){e.cancelable&&e.preventDefault();const n=this.state;n._active||(this.start(e),this.computeValues([e.scale,e.rotation]),n.origin=[e.clientX,e.clientY],this.compute(e),this.emit())}gestureMove(e){if(e.cancelable&&e.preventDefault(),!this.state._active)return;const n=this.state;this.computeValues([e.scale,e.rotation]),n.origin=[e.clientX,e.clientY];const r=n._movement;n._movement=[e.scale-1,e.rotation],n._delta=k.sub(n._movement,r),this.compute(e),this.emit()}gestureEnd(e){!this.state._active||(this.state._active=!1,this.compute(e),this.emit())}wheel(e){const n=this.config.modifierKey;n&&!e[n]||(this.state._active?this.wheelChange(e):this.wheelStart(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(e){this.start(e),this.wheelChange(e)}wheelChange(e){"uv"in e||(e.cancelable&&e.preventDefault(),process.env.NODE_ENV==="development"&&!e.defaultPrevented&&console.warn("[@use-gesture]: To properly support zoom on trackpads, try using the `target` option.\n\nThis message will only appear in development mode."));const r=this.state;r._delta=[-Pt(e)[1]/tr*r.offset[0],0],k.addTo(r._movement,r._delta),Kt(r),this.state.origin=[e.clientX,e.clientY],this.compute(e),this.emit()}wheelEnd(){!this.state._active||(this.state._active=!1,this.compute(),this.emit())}bind(e){const n=this.config.device;n&&(e(n,"start",this[n+"Start"].bind(this)),e(n,"change",this[n+"Move"].bind(this)),e(n,"end",this[n+"End"].bind(this)),e(n,"cancel",this[n+"End"].bind(this))),this.config.pinchOnWheel&&e("wheel","",this.wheel.bind(this),{passive:!1})}}const rr=S(S({},Xe),{},{device(t,e,{shared:n,pointer:{touch:r=!1}={}}){if(n.target&&!q.touch&&q.gesture)return"gesture";if(q.touch&&r)return"touch";if(q.touchscreen){if(q.pointer)return"pointer";if(q.touch)return"touch"}},bounds(t,e,{scaleBounds:n={},angleBounds:r={}}){const i=a=>{const u=St(Ae(n,a),{min:-1/0,max:1/0});return[u.min,u.max]},s=a=>{const u=St(Ae(r,a),{min:-1/0,max:1/0});return[u.min,u.max]};return typeof n!="function"&&typeof r!="function"?[i(),s()]:a=>[i(a),s(a)]},threshold(t,e,n){return this.lockDirection=n.axis==="lock",k.toVector(t,this.lockDirection?[.1,3]:0)},modifierKey(t){return t===void 0?"ctrlKey":t},pinchOnWheel(t=!0){return t}});class ir extends ye{constructor(...e){super(...e),H(this,"ingKey","moving")}move(e){this.config.mouseOnly&&e.pointerType!=="mouse"||(this.state._active?this.moveChange(e):this.moveStart(e),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(e){this.start(e),this.computeValues(le(e)),this.compute(e),this.computeInitial(),this.emit()}moveChange(e){if(!this.state._active)return;const n=le(e),r=this.state;r._delta=k.sub(n,r._values),k.addTo(r._movement,r._delta),this.computeValues(n),this.compute(e),this.emit()}moveEnd(e){!this.state._active||(this.state._active=!1,this.compute(e),this.emit())}bind(e){e("pointer","change",this.move.bind(this)),e("pointer","leave",this.moveEnd.bind(this))}}const sr=S(S({},oe),{},{mouseOnly:(t=!0)=>t});class or extends ye{constructor(...e){super(...e),H(this,"ingKey","scrolling")}scroll(e){this.state._active||this.start(e),this.scrollChange(e),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(e){e.cancelable&&e.preventDefault();const n=this.state,r=Nn(e);n._delta=k.sub(r,n._values),k.addTo(n._movement,n._delta),this.computeValues(r),this.compute(e),this.emit()}scrollEnd(){!this.state._active||(this.state._active=!1,this.compute(),this.emit())}bind(e){e("scroll","",this.scroll.bind(this))}}const ar=oe;class cr extends ye{constructor(...e){super(...e),H(this,"ingKey","wheeling")}wheel(e){this.state._active||this.start(e),this.wheelChange(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(e){const n=this.state;n._delta=Pt(e),k.addTo(n._movement,n._delta),Kt(n),this.compute(e),this.emit()}wheelEnd(){!this.state._active||(this.state._active=!1,this.compute(),this.emit())}bind(e){e("wheel","",this.wheel.bind(this))}}const ur=oe;class lr extends ye{constructor(...e){super(...e),H(this,"ingKey","hovering")}enter(e){this.config.mouseOnly&&e.pointerType!=="mouse"||(this.start(e),this.computeValues(le(e)),this.compute(e),this.emit())}leave(e){if(this.config.mouseOnly&&e.pointerType!=="mouse")return;const n=this.state;if(!n._active)return;n._active=!1;const r=le(e);n._movement=n._delta=k.sub(r,n._values),this.computeValues(r),this.compute(e),n.delta=n.movement,this.emit()}bind(e){e("pointer","enter",this.enter.bind(this)),e("pointer","leave",this.leave.bind(this))}}const fr=S(S({},oe),{},{mouseOnly:(t=!0)=>t}),Je=new Map,Be=new Map;function dr(t){Je.set(t.key,t.engine),Be.set(t.key,t.resolver)}const hr={key:"drag",engine:Fn,resolver:Ut},pr={key:"hover",engine:lr,resolver:fr},gr={key:"move",engine:ir,resolver:sr},vr={key:"pinch",engine:nr,resolver:rr},mr={key:"scroll",engine:or,resolver:ar},yr={key:"wheel",engine:cr,resolver:ur};function _r(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function wr(t,e){if(t==null)return{};var n=_r(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}const br={target(t){if(t)return()=>"current"in t?t.current:t},enabled(t=!0){return t},window(t=q.isBrowser?window:void 0){return t},eventOptions({passive:t=!0,capture:e=!1}={}){return{passive:t,capture:e}},transform(t){return t}},Er=["target","eventOptions","window","enabled","transform"];function ke(t={},e){const n={};for(const[r,i]of Object.entries(e))switch(typeof i){case"function":if(process.env.NODE_ENV==="development"){const s=i.call(n,t[r],r,t);Number.isNaN(s)||(n[r]=s)}else n[r]=i.call(n,t[r],r,t);break;case"object":n[r]=ke(t[r],i);break;case"boolean":i&&(n[r]=t[r]);break}return n}function Tr(t,e,n={}){const r=t,{target:i,eventOptions:s,window:a,enabled:u,transform:o}=r,d=wr(r,Er);if(n.shared=ke({target:i,eventOptions:s,window:a,enabled:u,transform:o},br),e){const c=Be.get(e);n[e]=ke(S({shared:n.shared},d),c)}else for(const c in d){const f=Be.get(c);if(f)n[c]=ke(S({shared:n.shared},d[c]),f);else if(process.env.NODE_ENV==="development"&&!["drag","pinch","scroll","wheel","move","hover"].includes(c)){if(c==="domTarget")throw Error("[@use-gesture]: `domTarget` option has been renamed to `target`.");console.warn(`[@use-gesture]: Unknown config key \`${c}\` was used. Please read the documentation for further information.`)}}return n}class Ft{constructor(e,n){H(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=n}add(e,n,r,i,s){const a=this._listeners,u=Ln(n,r),o=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},d=S(S({},o),s);e.addEventListener(u,i,d);const c=()=>{e.removeEventListener(u,i,d),a.delete(c)};return a.add(c),c}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class xr{constructor(){H(this,"_timeouts",new Map)}add(e,n,r=140,...i){this.remove(e),this._timeouts.set(e,window.setTimeout(n,r,...i))}remove(e){const n=this._timeouts.get(e);n&&window.clearTimeout(n)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class Ir{constructor(e){H(this,"gestures",new Set),H(this,"_targetEventStore",new Ft(this)),H(this,"gestureEventStores",{}),H(this,"gestureTimeoutStores",{}),H(this,"handlers",{}),H(this,"config",{}),H(this,"pointerIds",new Set),H(this,"touchIds",new Set),H(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),Or(this,e)}setEventIds(e){if(Me(e))return this.touchIds=new Set(Vn(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,n){this.handlers=e,this.nativeHandlers=n}applyConfig(e,n){this.config=Tr(e,n,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const n=this.config.shared,r={};let i;if(!(n.target&&(i=n.target(),!i))){if(n.enabled){for(const a of this.gestures){const u=this.config[a],o=Yt(r,u.eventOptions,!!i);if(u.enabled){const d=Je.get(a);new d(this,e,a).bind(o)}}const s=Yt(r,n.eventOptions,!!i);for(const a in this.nativeHandlers)s(a,"",u=>this.nativeHandlers[a](S(S({},this.state.shared),{},{event:u,args:e})),void 0,!0)}for(const s in r)r[s]=jn(...r[s]);if(!i)return r;for(const s in r){const{device:a,capture:u,passive:o}=kn(s);this._targetEventStore.add(i,a,"",r[s],{capture:u,passive:o})}}}}function fe(t,e){t.gestures.add(e),t.gestureEventStores[e]=new Ft(t,e),t.gestureTimeoutStores[e]=new xr}function Or(t,e){e.drag&&fe(t,"drag"),e.wheel&&fe(t,"wheel"),e.scroll&&fe(t,"scroll"),e.move&&fe(t,"move"),e.pinch&&fe(t,"pinch"),e.hover&&fe(t,"hover")}const Yt=(t,e,n)=>(r,i,s,a={},u=!1)=>{var o,d;const c=(o=a.capture)!==null&&o!==void 0?o:e.capture,f=(d=a.passive)!==null&&d!==void 0?d:e.passive;let p=u?r:An(r,i,c);n&&f&&(p+="Passive"),t[p]=t[p]||[],t[p].push(s)},Cr=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function Mr(t){const e={},n={},r=new Set;for(let i in t)Cr.test(i)?(r.add(RegExp.lastMatch),n[i]=t[i]):e[i]=t[i];return[n,e,r]}function de(t,e,n,r,i,s){if(!t.has(n))return;if(!Je.has(r)){process.env.NODE_ENV==="development"&&console.warn(`[@use-gesture]: You've created a custom handler that that uses the \`${r}\` gesture but isn't properly configured.

Please add \`${r}Action\` when creating your handler.`);return}const a=n+"Start",u=n+"End",o=d=>{let c;return d.first&&a in e&&e[a](d),n in e&&(c=e[n](d)),d.last&&u in e&&e[u](d),c};i[r]=o,s[r]=s[r]||{}}function Ar(t,e){const[n,r,i]=Mr(t),s={};return de(i,n,"onDrag","drag",s,e),de(i,n,"onWheel","wheel",s,e),de(i,n,"onScroll","scroll",s,e),de(i,n,"onPinch","pinch",s,e),de(i,n,"onMove","move",s,e),de(i,n,"onHover","hover",s,e),{handlers:s,config:e,nativeHandlers:r}}function Dr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Le(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qt(Object(n),!0).forEach(function(r){Dr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qt(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}class kr{constructor(e,n,r,i,s){this._target=e,this._gestureKey=i,this._ctrl=new Ir(n),this._ctrl.applyHandlers(n,s),this._ctrl.applyConfig(Le(Le({},r),{},{target:e}),i),this._ctrl.effect()}destroy(){this._ctrl.clean()}setConfig(e){this._ctrl.clean(),this._ctrl.applyConfig(Le(Le({},e),{},{target:this._target}),this._gestureKey),this._ctrl.effect()}}function Lr(t){return t.forEach(dr),function(e,n,r){const{handlers:i,nativeHandlers:s,config:a}=Ar(n,r||{});return new kr(e,i,a,void 0,s)}}const Pr=function(e,n,r){return Lr([hr,vr,mr,yr,gr,pr])(e,n,r||{})};function he(t){T({targets:t,opacity:0,easing:"spring(1, 85, 35, 3)",duration:0}),setTimeout(()=>{var e;(e=t==null?void 0:t.classList)!=null&&e.contains("display")&&t.classList.remove("display"),t&&t.remove()},300),document.body.style.overflow="scroll"}function zt(t){t.classList.add("display"),T({targets:t,opacity:1,easing:"spring(1, 85, 35, 3)",duration:0})}function ae(t,e,n,r){T({targets:t,translateY:e,easing:n,duration:r})}function et(t){return typeof t=="string"?+t.replace("%",""):+t}function te(t){return typeof t=="string"?P(+t.replace("%","")):+t}function P(t){return Math.round(window.innerHeight*t/100)}function R(t){return window.innerHeight-t}function Sr(){var t=navigator.userAgent||navigator.vendor||window.opera;return/windows phone/i.test(t)?"Windows Phone":/android/i.test(t)?"Android":/iPad|iPhone|iPod/.test(t)&&!window.MSStream?"iOS":"unknown"}const Vr=t=>{var Wt;let{snapPoints:e=["100%"],displayOverlay:n=!1,minWidthForModal:r=700,draggableArea:i="",onOpen:s=()=>{},onClose:a=()=>{},trigger:u="",content:o="",onInit:d=()=>{},webLayout:c="modal",openOnLoad:f=!1,modalCloseIcon:p=`<svg width="16" height="12" viewBox="0 0 39 38" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M33.112 36.9133C34.3649 38.15 36.3963 38.15 37.6492 36.9133C38.9022 35.6766 38.9022 33.6716 37.6492 32.435L24.0375 19L37.6492 5.56496C38.9022 4.3283 38.9022 2.32328 37.6492 1.08662C36.3963 -0.150042 34.3649 -0.150042 33.112 1.08662L19.5002 14.5216L5.88835 1.08655C4.63541 -0.150108 2.60401 -0.150107 1.35108 1.08655C0.0981471 2.32321 0.0981459 4.32824 1.35108 5.5649L14.9629 19L1.35108 32.435C0.0981434 33.6717 0.0981443 35.6767 1.35108 36.9134C2.60401 38.15 4.63541 38.15 5.88834 36.9134L19.5002 23.4783L33.112 36.9133Z" fill="white"/>
    </svg>
    `,sideSheetLeftIcon:L=`
    <svg width="16" height="14" viewBox="0 0 26 42" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path fill-rule="evenodd" clip-rule="evenodd" d="M24.5046 40.8036C23.2926 42.0804 21.2623 42.1465 19.9698 40.9513L1.76653 24.118C0.474022 22.9228 0.408779 20.9188 1.62081 19.6421L18.6906 1.66043C19.9026 0.383653 21.9329 0.317552 23.2254 1.51279C24.5179 2.70802 24.5832 4.71199 23.3712 5.98876L8.49597 21.6586L24.3589 36.3277C25.6514 37.5229 25.7166 39.5269 24.5046 40.8036Z" fill="white"/>
    </svg> 
    `,sideSheetRightIcon:w=`<svg width="16" height="14" viewBox="0 0 25 42" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path fill-rule="evenodd" clip-rule="evenodd" d="M1.21057 1.34418C2.46351 0.107522 4.49491 0.107522 5.74784 1.34418L23.3937 18.7608C24.6466 19.9975 24.6466 22.0025 23.3937 23.2392L5.74784 40.6559C4.49491 41.8925 2.46351 41.8925 1.21057 40.6559C-0.0423591 39.4192 -0.0423591 37.4142 1.21057 36.1775L16.5878 21L1.21057 5.82253C-0.0423591 4.58586 -0.0423591 2.58084 1.21057 1.34418Z" fill="white"/>
    </svg>   
    `,defaultSideSheetClose:v=!0,cleanUpOnClose:I=!1,dismissible:x=!0,sideSheetSnapPoints:y=["10%","25%","50%","100%"],velocityThreshold:m=.9,distanceThreshold:V=150,closeOnOverlayClick:z=!0,animateOnDrag:O={}}=t,C;o=typeof o!="string"?promise.resolve(o).then(l=>{}):o;let Q=u?(Wt=document==null?void 0:document.querySelector(`#${u}`))==null?void 0:Wt.getAttribute("data-bottomsheet-id"):"",g=Q?document==null?void 0:document.querySelector(`#${Q}`):"";const E=document.querySelector(`#${g==null?void 0:g.id}-overlay`)?document.querySelector(`#${g==null?void 0:g.id}-overlay`):document.createElement("div");E.id=`${g==null?void 0:g.id}-overlay`;let B="spring(1, 85, 45, 15)",ce="spring(1, 85, 35, 5)";document.addEventListener("click",l=>{setTimeout(()=>{l.target.tagName.toLowerCase()==="input"&&Sr()==="Android"&&ae(g,"0px",ve())},100)}),f?K(f):setTimeout(()=>{u&&document.querySelector(`#${u}`)&&document.querySelectorAll(`#${u}`).forEach(l=>l.addEventListener("click",()=>{K(!1)}))},400);function K(l=!1){document.body.style.overflowY="contain",d&&d(),o&&!g?(document.body.insertAdjacentHTML("beforeend",o),g=Q?document.querySelector(`#${Q}`):document.querySelector(`#${new DOMParser().parseFromString(o,"text/html").body.firstChild.id}`)):o&&!g.innerHTML&&(g.innerHTML=new DOMParser().parseFromString(o,"text/html").body.firstChild.innerHTML),g&&!document.getElementById(`#${g.id}`)&&document.body.append(g),n&&(E.classList.add("overlay"),zt(E),document.body.appendChild(E),g&&document.querySelector(".overlay")&&document.body.insertBefore(E,g),z&&E.addEventListener("click",()=>{Y(b,x)}));let b=!(window.innerWidth<r);document.querySelectorAll(`#${g==null?void 0:g.id}`).length<2?we(g,b,E,l):ee(b,l)}function we(l,b,M,_){let A=re(l),F=et(e[e.length-1]),N=document.createElement("div"),j=document.createElement("div"),U=document.createElement("div"),D="";l.style.display="block",N.id="modal-close",N.classList.add("close-modal"),N.addEventListener("click",()=>Pe(l,M)),j.id="side-left",v&&j.addEventListener("click",()=>{ge(l,M)}),U.id="side-right",v&&U.addEventListener("click",()=>Te(l)),N.insertAdjacentHTML("afterbegin",p),j.insertAdjacentHTML("afterbegin",L),U.insertAdjacentHTML("afterbegin",w),i&&(typeof i=="string"?(i=new DOMParser().parseFromString(i,"text/xml"),D=i.childNodes[0].id,i=i.childNodes[0]):D=i==null?void 0:i.id,i.setAttribute("data-draggable","1"),i.classList.add("draggable")),ne(l,j,U,b,D,M,N),b=be(l,j,U,b,M,N,D),setTimeout(()=>{s()},300),C&&C<window.innerHeight&&window.innerWidth<r?Y(b,x):ee(b,_),l.click(),l.style.overflow="scroll",l.style.touchAction="auto",setTimeout(()=>{Se(l,A,F,l,D,M,b)},400),document.querySelector(`.bottomsheet #${l.id}`)&&(document.querySelector(`.bottomsheet #${l.id}`).style.display="block")}function be(l,b,M,_,A,F,N){return window.addEventListener("resize",()=>(ne(l,b,M,_,N,A,F),window.innerWidth<r?_=!1:_=!0,_)),_}function Pe(l,b){T({targets:l,opacity:0,easing:B,duration:.1,translateY:"-40%"}),setTimeout(()=>{Ve(l)},500),he(b)}function Y(l=!1,b=!0,M=7){n&&E&&he(E),document.body.style.overflow="scroll",l?c==="modal"?Pe(g,E):c==="sideSheetLeft"?ge(g,E):Te(g):T({targets:g,translateY:`${b?P(100):R(te(e[0]))}px`,easing:ve(),duration:1}),C=P(100),setTimeout(()=>{C>=window.innerHeight&&I&&Ve(g)},500),he(E),a()}function ne(l,b,M,_,A,F,N){_?(i&&document.querySelector(`#${l.id} #${A}`)&&l.removeChild(i),c==="modal"?l.classList.add("modal"):l.classList.add("side-sheet"),l.classList.remove("bottomsheet"),!document.querySelector(`#${l.id} #modal-close`)&&c==="modal"?l.prepend(N):!document.querySelector(`#${l.id} #side-left`)&&c==="sideSheetLeft"?l.prepend(b):!document.querySelector(`#${l.id} #side-right`)&&c==="sideSheetRight"&&(l.prepend(M),Te(l))):(A&&!document.querySelector(`#${l==null?void 0:l.id} #${A}`)&&l.prepend(i),document.querySelector(`#${l.id} #modal-close`)&&l.removeChild(N),document.querySelector(`#${l.id} #side-left`)&&l.removeChild(b),document.querySelector(`#${l.id} #side-right`)&&l.removeChild(M),l.classList.add("bottomsheet"),l.classList.remove("modal"),l.classList.remove("side-sheet"))}function ee(l=!1,b=!1){document.body.style.overflow="hidden",n&&zt(E),l?c==="sideSheetLeft"?(g.style.top=0,g.style.left="-100%",setTimeout(()=>{T({targets:g,left:"0",width:y[0],easing:ce,duration:1})},100)):c==="sideSheetRight"?(g.style.top=0,g.style.right="-100%",setTimeout(()=>{T({targets:g,right:"0",width:y[0],easing:ce,duration:1})},100)):(g.style.top="50%",g.style.opacity=0,g.style.transform="translateX(-50%) translateY(-40%) rotateX(-20deg)",T({translateY:"-50%",targets:g,opacity:1,rotateX:"1deg",easing:B,duration:.1})):b?(g.style.opacity=1,g.style.transform=`translateY(${R(te(e[0]))}px)`):(T({targets:g,translateY:`${P(100)}px`,easing:"linear",duration:1}),setTimeout(()=>{T({targets:g,translateY:`${R(te(e[0]))}px`,easing:"spring(1, 85, 15, 3)",opacity:1,duration:1})},60)),C=R(te(e[0]))}function Se(l,b,M,_,A,F,N){new Pr(l,{onDrag:({active:j,velocity:[U,D],offset:$,distance:[X,tt],target:Gt,direction:Hr})=>{let Zt=0,jr=1/0;b=re(_),window.innerWidth<r&&(Hr[1]>0?A&&Gt===document.querySelector(`#${A}`)?(_.style.overflow="hidden",_.style.touchAction="none",pe(_,Zt,null,j,M,D,$,tt,F),C>=window.innerHeight&&Y(N,x,D),C>=window.innerHeight&&he(F)):_.scrollTop>=1&&b<=P(100-M)&&(!A||Gt!==document.querySelector(`#${A}`))?(_.style.overflow="scroll",_.style.touchAction="auto",_.click()):(_.style.overflow="hidden",_.style.touchAction="none",pe(_,Zt,null,j,M,D,$,tt,F),C>=window.innerHeight&&Y(N,x,D)):re(g)<=P(100-M)?(_.click(),_.style.overflow="scroll",P(100-M)>0&&(_.style.minHeight="unset"),_.style.height=`${P(M)}px`,_.style.touchAction="auto"):(_.style.overflow="hidden",_.style.touchAction="none",pe(_,null,jr,j,M,D,$,tt,F),C>=window.innerHeight&&Y(N,x,D)))},onDragStart:()=>{document.body.style.overflow="hidden"},onDragEnd:({direction:j})=>{b=re(_),(b<=P(100-M)||C===0)&&j[1]<0&&g.scrollTop>=0&&(_.style.overflow="scroll",_.click(),_.style.touchAction="auto"),(b<=P(100-M)||C===0)&&j[1]>0&&g.scrollTop===0&&(_.style.overflow="hidden")}},{drag:{filterTaps:!1,rubberband:!0,axis:"y",preventDefault:!1,from:()=>[0,re(_)]}})}function pe(l,b,M,_,A,F,N,j,U,D){let $=N[1];if(M===null){let X=function(){return Ee($>window.innerHeight?window.innerHeight:$<P(100-A)?P(100-A):$,l,F,A,j,!1,U,x)};_&&ae(l,`${$>window.innerHeight?window.innerHeight:$<P(100-A)?P(100-A):$}px`,"spring(1, 250, 25, 25)"),_||X()!==void 0&&(N[1]=X())}else{let X=function(){return ie($>window.innerHeight?window.innerHeight:$<P(100-A)?P(100-A):$,l,F,A,j,!1,U)};_&&ae(l,`${$>window.innerHeight?window.innerHeight:$<P(100-A)?P(100-A):$}px`,"spring(1, 250, 25, 25)"),_||X()!==void 0&&(N[1]=X())}}function re(l){var b;return+((b=l==null?void 0:l.style)==null?void 0:b.transform.slice(11).replace("px)",""))}function ie(l,b,M,_,A,F,N,j){let U=1/0;if(e.forEach(D=>{let $=et(D);P($)>R(l)&&P($)<U&&(U=P($))}),U!==1/0)return F?(ae(b,`${R(U)}px`,ve()),C=R(U),C):M>m||A<V?(ae(b,`${R(U)}px`,ve()),C=R(U),C):Ee(l,b,M,_,A,!0,N,x)}function Ee(l,b,M,_,A,F,N,j,U){let D=0;return e.forEach($=>{let X=et($);P(X)<R(l)&&P(X)>D&&(D=P(X))}),F?(ae(b,`${j?R(D):D<=te(e[0])?R(te(e[0])):R(D)}px`,ve()),C=R(D),C):M>m||A>V?(ae(b,`${j?R(D):D<=te(e[0])?R(te(e[0])):R(D)}px`,ve()),C=R(D),C):ie(l,b,M,_,A,!0,N)}function ge(l,b){T({targets:l,width:0,easing:"spring(1, 85, 45, 3)",duration:0}),setTimeout(()=>{I&&Ve(l)},400),he(b)}function Te(l){T({targets:l,width:0,easing:"spring(1, 85, 45, 3)",duration:0}),setTimeout(()=>{I&&Ve(l)},400),he(E)}function Ve(l){l.remove()}function ve(){return"spring(1, 95, 25, 13)"}function $r(){document.getElementById(u).removeEventListener("click",()=>{K(!1)})}return{close:Y,init:K,open:ee,destroy:$r}};async function Nr(t,e){e=typeof e!="string"?await e:e;let n;e&&t&&document.getElementById(`${t}`)&&(n=document.getElementById(`${t}`).children[0],document.getElementById(`${t}`).innerHTML="",n&&((n==null?void 0:n.getAttribute("data-draggable"))||n.children[0]instanceof SVGElement)&&document.getElementById(`${t}`).appendChild(n),document.getElementById(`${t}`).insertAdjacentHTML("beforeend",e))}se.BottomSheet=Vr,se.replaceInnerContent=Nr,Object.defineProperties(se,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
